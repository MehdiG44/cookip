{"version":3,"sources":["components/Button.js","components/ScriptModal.js","components/Form.js","components/App.js","index.js"],"names":["Button","children","onClick","className","event","ScriptModal","Form","useState","color","setColor","overlay","setOverlay","privacyPolicyLink","setPrivacyPolicyLink","companyName","setCompanyName","script","setScript","src","setSrc","language","document","getElementsByTagName","lang","substring","submitForm","a","preventDefault","url","window","location","href","onSubmit","style","backgroundColor","type","onChange","target","value","id","checked","placeholder","required","navigator","clipboard","writeText","gtag","scriptElement","createElement","dataset","preview","head","appendChild","App","useEffect","addEventListener","JSON","parse","cookie","split","find","startsWith","hostname","statistics","async","dataLayerScript","textContent","append","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.20719faa.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Button = ({ children, onClick }) => {\n  return (\n    <button\n      className=\"bg-blue-600 text-white px-6 py-3 rounded-md transform hover:scale-110 transition duration-300 mt-14 self-center w-52 font-bold\"\n      onClick={(event) => onClick && onClick(event)}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Button from \"./Button\";\n\nconst ScriptModal = ({ children, onClick }) => {\n  return (\n    <div className=\"fixed w-full h-full flex justify-center items-center bg-opacity-70 bg-black\">\n      <div className=\"bg-white p-8 rounded-xl sm:w-4/5\">\n        <div className=\"bg-black text-white p-8 rounded-xl break-all\">\n          <code className=\"text-xs sm:text-base\">{children}</code>\n        </div>\n        <div className=\"text-right\">\n          <Button onClick={onClick}>Copy & Preview</Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ScriptModal;\n","import React, { useState } from \"react\";\nimport Button from \"./Button\";\nimport ScriptModal from \"./ScriptModal\";\n\nconst Form = () => {\n  const [color, setColor] = useState(\"#2563eb\");\n  const [overlay, setOverlay] = useState(true);\n  const [privacyPolicyLink, setPrivacyPolicyLink] = useState();\n  const [companyName, setCompanyName] = useState();\n  const [script, setScript] = useState(\"\");\n  const [src, setSrc] = useState();\n  const language = document\n    .getElementsByTagName(\"html\")[0]\n    .lang.substring(0, 2);\n\n  const submitForm = async (event) => {\n    event.preventDefault();\n    if (!companyName) return;\n\n    const url = `${window.location.href}/banner.js`;\n\n    setScript(\n      `<script>\n        var s = document.createElement(\"script\");\n        s.id = \"cookip-script\";\n        s.type = \"text/javascript\";\n        s.dataset.color = \"${color}\";\n        s.dataset.language = \"${language}\";\n        s.dataset.overlay = \"${overlay}\";\n        ${\n          privacyPolicyLink\n            ? `s.dataset.privacyPolicyLink = \"${privacyPolicyLink}\";`\n            : \";\"\n        }\n        s.dataset.companyName = \"${companyName}\";s.src = \"${url}\";\n        document.head.appendChild(s);\n      </script>`\n    );\n    setSrc(url);\n  };\n\n  const copyScriptAndPreview = () => {\n    navigator.clipboard.writeText(script);\n    window.gtag && window.gtag(\"event\", \"copy_script\");\n    const scriptElement = document.createElement(\"script\");\n    scriptElement.id = \"cookip-script\";\n    scriptElement.type = \"text/javascript\";\n    scriptElement.src = src;\n    scriptElement.dataset.color = color;\n    scriptElement.dataset.language = language;\n    scriptElement.dataset.overlay = overlay;\n    if (privacyPolicyLink) {\n      scriptElement.dataset.privacyPolicyLink = privacyPolicyLink;\n    }\n    scriptElement.dataset.companyName = companyName;\n    scriptElement.dataset.preview = true;\n    setScript(\"\");\n    document.head.appendChild(scriptElement);\n  };\n\n  return (\n    <>\n      <form\n        className=\"flex flex-col w-10/12 md:w-8/12 lg:w-6/12 xl:w-5/12 2xl:w-4/12 mb-14\"\n        onSubmit={submitForm}\n      >\n        <label className=\"mt-14 mb-6 text-xl\">\n          <span className=\"border-b border-blue-600 pb-2\">Color</span>\n        </label>\n        <div\n          className=\"self-center w-min rounded-full\"\n          style={{ backgroundColor: color }}\n        >\n          <input\n            type=\"color\"\n            onChange={(event) => setColor(event.target.value)}\n            value={color}\n            className=\"w-20 h-20 rounded-full cursor-pointer opacity-0\"\n          />\n        </div>\n        <label className=\"mt-14 mb-6 text-xl\">\n          <span className=\"border-b border-blue-600 pb-2\">Dark background</span>\n        </label>\n        <div className=\"self-center\">\n          <label>\n            <input\n              type=\"radio\"\n              id=\"yes\"\n              checked={overlay}\n              onChange={() => setOverlay(true)}\n              className=\"mr-2\"\n            />\n            Yes\n          </label>\n          <label>\n            <input\n              type=\"radio\"\n              id=\"no\"\n              checked={!overlay}\n              onChange={() => setOverlay(false)}\n              className=\"ml-12 mr-2\"\n            />\n            No\n          </label>\n        </div>\n        <label className=\"mt-14 mb-6 text-xl\">\n          <span className=\"border-b border-blue-600 pb-2\">\n            Privacy policy link\n          </span>\n        </label>\n        <input\n          type=\"url\"\n          placeholder=\"https://www.example.com/cookies\"\n          onChange={(event) => setPrivacyPolicyLink(event.target.value)}\n          className=\"border p-2 rounded-md\"\n        />\n        <label className=\"mt-14 mb-6 text-xl\">\n          <span className=\"border-b border-blue-600 pb-2\">Company name</span>\n        </label>\n        <input\n          type=\"text\"\n          placeholder=\"My Company\"\n          onChange={(event) => setCompanyName(event.target.value)}\n          className=\"border p-2 rounded-md\"\n          required=\"required\"\n        />\n        <Button>Generate</Button>\n      </form>\n      {script && (\n        <ScriptModal onClick={copyScriptAndPreview}>{script}</ScriptModal>\n      )}\n    </>\n  );\n};\n\nexport default Form;\n","import React, { useEffect } from \"react\";\nimport Form from \"./Form\";\n\nconst App = () => {\n  useEffect(() => {\n    window.addEventListener(\"cookip_set\", () => {\n      const consentCookie = JSON.parse(\n        document.cookie\n          .split(\"; \")\n          .find((cookie) =>\n            cookie.startsWith(`cookip_${document.location.hostname}=`)\n          )\n          .split(\"=\")[1]\n      );\n\n      if (!consentCookie.statistics) return;\n\n      const script = document.createElement(\"script\");\n      script.src = \"https://www.googletagmanager.com/gtag/js?id=G-BJY35G7VTC\";\n      script.async = true;\n\n      const dataLayerScript = document.createElement(\"script\");\n      dataLayerScript.textContent =\n        \"window.dataLayer = window.dataLayer || [];window.gtag = function(){dataLayer.push(arguments);};window.gtag('js', new Date());window.gtag('config', 'G-BJY35G7VTC');\";\n\n      document.head.append(script, dataLayerScript);\n    });\n  }, []);\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      <h1 className=\"text-blue-600 text-6xl font-title font-bold w-11/12 text-center my-8\">\n        COOKIP\n      </h1>\n      <div className=\"text-lg text-center mb-2\">\n        Free cookie consent banner script generator.\n      </div>\n      <div className=\"text-lg text-center mb-2\">\n        Can be used on its own or via Google Tag Manager.\n      </div>\n      <div className=\"text-lg text-center\">\n        Available in English and French.\n      </div>\n      <Form />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}